{
  "author": "",
  "category": "General",
  "description": "This allows an object to be held and swung like a sword. There are two behaviors which tend to go together, although they could be used separately (e.g. a non-swinging item, like a key).\n\n1. HandheldItem allows you to have the item be held by another object at a named point.\n    - For the object holding the item, create a custom point or move the \"Center\" or \"Origin\" points to wherever the object should be held (the \"hand\"). \n    - For the item, move the \"Center\" point to wherever the object should be held (like the hilt of a sword).\n2. SwingingItem actually swings the item. You can configure the starting angle, swing speed and swing arc length. The parameters can also be inverted to swing in the opposite direction.",
  "extensionNamespace": "",
  "fullName": "Swinging item",
  "helpPath": "https://github.com/praeus/attack/blob/main/README.md",
  "iconUrl": "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0ibWRpLXN3b3JkIiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCI+PHBhdGggZD0iTTYuOTIsNUg1TDE0LDE0TDE1LDEzLjA2TTE5Ljk2LDE5LjEyTDE5LjEyLDE5Ljk2QzE4LjczLDIwLjM1IDE4LjEsMjAuMzUgMTcuNzEsMTkuOTZMMTQuNTksMTYuODRMMTEuOTEsMTkuNUwxMC41LDE4LjA5TDExLjkyLDE2LjY3TDMsNy43NVYzSDcuNzVMMTYuNjcsMTEuOTJMMTguMDksMTAuNUwxOS41LDExLjkxTDE2LjgzLDE0LjU4TDE5Ljk1LDE3LjdDMjAuMzUsMTguMSAyMC4zNSwxOC43MyAxOS45NiwxOS4xMloiIC8+PC9zdmc+",
  "name": "SwingItem",
  "previewIconUrl": "https://resources.gdevelop-app.com/assets/Icons/sword.svg",
  "shortDescription": "Hold an item at an object's point (the \"hand\") and swing the item (like a sword).",
  "version": "0.0.1",
  "tags": [
    "swing",
    "sword",
    "weapon",
    "item",
    "handheld"
  ],
  "authorIds": [
    "I9lf0cCEJyQSEm81kGVTjydlgv02"
  ],
  "dependencies": [],
  "eventsFunctions": [],
  "eventsBasedBehaviors": [
    {
      "description": "An item that can be held by another object at a specific point.",
      "fullName": "Handheld item",
      "name": "HandheldItem",
      "objectType": "",
      "eventsFunctions": [
        {
          "description": "Pick up the item by another object at the specified point.",
          "fullName": "Pick up item",
          "functionType": "Action",
          "group": "",
          "name": "PickUp",
          "private": false,
          "sentence": "Pick up _PARAM0_ by _PARAM2_ using point _PARAM3_",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": []
            },
            {
              "type": "BuiltinCommonInstructions::JsCode",
              "inlineCode": "const object = objects[0];\nconst character = eventsFunctionContext.getObjects(\"Character\")[0];\nconst behavior = object.getBehavior(eventsFunctionContext.getBehaviorName(\"Behavior\"));\nconst point = eventsFunctionContext.getArgument(\"Point\");\n\nif (character !== undefined) {\n    behavior.heldBy = character;\n    behavior.point = point;\n    object.setCenterPositionInScene(character.getPointX(point), character.getPointY(point));\n}",
              "parameterObjects": "Object",
              "useStrict": true,
              "eventsSheetExpanded": false
            }
          ],
          "parameters": [
            {
              "codeOnly": false,
              "defaultValue": "",
              "description": "Object",
              "longDescription": "",
              "name": "Object",
              "optional": false,
              "supplementaryInformation": "",
              "type": "object"
            },
            {
              "codeOnly": false,
              "defaultValue": "",
              "description": "Behavior",
              "longDescription": "",
              "name": "Behavior",
              "optional": false,
              "supplementaryInformation": "SwingItem::HandheldItem",
              "type": "behavior"
            },
            {
              "codeOnly": false,
              "defaultValue": "",
              "description": "Object holding the item",
              "longDescription": "",
              "name": "Character",
              "optional": false,
              "supplementaryInformation": "Sprite",
              "type": "objectList"
            },
            {
              "codeOnly": false,
              "defaultValue": "",
              "description": "Name of the point",
              "longDescription": "Name of the point on the holding object where the item is held (\"Origin\", \"Center\", or a custom point name)",
              "name": "Point",
              "optional": false,
              "supplementaryInformation": "",
              "type": "string"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Put down the item.",
          "fullName": "Put down item",
          "functionType": "Action",
          "group": "",
          "name": "PutDown",
          "private": false,
          "sentence": "Put down the item _PARAM0_",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": []
            },
            {
              "type": "BuiltinCommonInstructions::JsCode",
              "inlineCode": "const object = objects[0];\nconst behavior = object.getBehavior(eventsFunctionContext.getBehaviorName(\"Behavior\"));\n\nbehavior.heldBy = null;\nbehavior.point = null;",
              "parameterObjects": "Object",
              "useStrict": true,
              "eventsSheetExpanded": false
            }
          ],
          "parameters": [
            {
              "codeOnly": false,
              "defaultValue": "",
              "description": "Object",
              "longDescription": "",
              "name": "Object",
              "optional": false,
              "supplementaryInformation": "",
              "type": "object"
            },
            {
              "codeOnly": false,
              "defaultValue": "",
              "description": "Behavior",
              "longDescription": "",
              "name": "Behavior",
              "optional": false,
              "supplementaryInformation": "SwingItem::HandheldItem",
              "type": "behavior"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "",
          "fullName": "",
          "functionType": "Action",
          "group": "",
          "name": "doStepPreEvents",
          "private": false,
          "sentence": "",
          "events": [
            {
              "type": "BuiltinCommonInstructions::JsCode",
              "inlineCode": "const object = objects[0];\nconst behavior = object.getBehavior(eventsFunctionContext.getBehaviorName(\"Behavior\"));\n    \nif ((behavior.heldBy !== undefined) && (behavior.heldBy !== null) && \n    (behavior.point !== undefined) && (behavior.point !== null)) {\n    object.setCenterPositionInScene(\n        behavior.heldBy.getPointX(behavior.point), \n        behavior.heldBy.getPointY(behavior.point));\n}",
              "parameterObjects": "Object",
              "useStrict": true,
              "eventsSheetExpanded": false
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": []
            }
          ],
          "parameters": [
            {
              "codeOnly": false,
              "defaultValue": "",
              "description": "Object",
              "longDescription": "",
              "name": "Object",
              "optional": false,
              "supplementaryInformation": "",
              "type": "object"
            },
            {
              "codeOnly": false,
              "defaultValue": "",
              "description": "Behavior",
              "longDescription": "",
              "name": "Behavior",
              "optional": false,
              "supplementaryInformation": "SwingItem::HandheldItem",
              "type": "behavior"
            }
          ],
          "objectGroups": []
        }
      ],
      "propertyDescriptors": []
    },
    {
      "description": "An item that can swing in an arc from a starting angle, like a sword.",
      "fullName": "Swinging item",
      "name": "SwingingItem",
      "objectType": "",
      "eventsFunctions": [
        {
          "description": "Swing the item in an arc from the starting angle.",
          "fullName": "Swing item",
          "functionType": "Action",
          "group": "",
          "name": "SwingItem",
          "private": false,
          "sentence": "Swing _PARAM0_",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "SwingItem::SwingingItem::SetPropertyIsSwinging"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "yes"
                  ]
                }
              ]
            }
          ],
          "parameters": [
            {
              "codeOnly": false,
              "defaultValue": "",
              "description": "Object",
              "longDescription": "",
              "name": "Object",
              "optional": false,
              "supplementaryInformation": "",
              "type": "object"
            },
            {
              "codeOnly": false,
              "defaultValue": "",
              "description": "Behavior",
              "longDescription": "",
              "name": "Behavior",
              "optional": false,
              "supplementaryInformation": "SwingItem::SwingingItem",
              "type": "behavior"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Set the starting angle for the swing.",
          "fullName": "Set starting angle",
          "functionType": "Action",
          "group": "",
          "name": "SetStartingAngle",
          "private": false,
          "sentence": "Set _PARAM0_ starting angle to _PARAM2_",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "SwingItem::SwingingItem::SetPropertyStartingAngle"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "=",
                    "GetArgumentAsNumber(\"StartingAngle\")"
                  ]
                }
              ]
            }
          ],
          "parameters": [
            {
              "codeOnly": false,
              "defaultValue": "",
              "description": "Object",
              "longDescription": "",
              "name": "Object",
              "optional": false,
              "supplementaryInformation": "",
              "type": "object"
            },
            {
              "codeOnly": false,
              "defaultValue": "",
              "description": "Behavior",
              "longDescription": "",
              "name": "Behavior",
              "optional": false,
              "supplementaryInformation": "SwingItem::SwingingItem",
              "type": "behavior"
            },
            {
              "codeOnly": false,
              "defaultValue": "",
              "description": "Starting angle",
              "longDescription": "",
              "name": "StartingAngle",
              "optional": false,
              "supplementaryInformation": "",
              "type": "string"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Set the swing speed, in degrees per frame.",
          "fullName": "Set swing speed",
          "functionType": "Action",
          "group": "",
          "name": "SetSwingSpeed",
          "private": false,
          "sentence": "Set _PARAM0_ swing speed to _PARAM2_",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "SwingItem::SwingingItem::SetPropertySwingSpeed"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "=",
                    "GetArgumentAsNumber(\"SwingSpeed\")"
                  ]
                }
              ]
            }
          ],
          "parameters": [
            {
              "codeOnly": false,
              "defaultValue": "",
              "description": "Object",
              "longDescription": "",
              "name": "Object",
              "optional": false,
              "supplementaryInformation": "",
              "type": "object"
            },
            {
              "codeOnly": false,
              "defaultValue": "",
              "description": "Behavior",
              "longDescription": "",
              "name": "Behavior",
              "optional": false,
              "supplementaryInformation": "SwingItem::SwingingItem",
              "type": "behavior"
            },
            {
              "codeOnly": false,
              "defaultValue": "",
              "description": "Swing speed (in degrees per-frame)",
              "longDescription": "Can be negative to swing in the opposite direction",
              "name": "SwingSpeed",
              "optional": false,
              "supplementaryInformation": "",
              "type": "string"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Invert swing direction by negating the starting angle and swing speed.",
          "fullName": "Invert swing",
          "functionType": "Action",
          "group": "",
          "name": "InvertSwing",
          "private": false,
          "sentence": "Have _PARAM0_ swing in the opposite direction",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "SwingItem::SwingingItem::SetPropertyStartingAngle"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "=",
                    "-Object.Behavior::PropertyStartingAngle()"
                  ]
                },
                {
                  "type": {
                    "value": "SwingItem::SwingingItem::SetPropertySwingSpeed"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "=",
                    "-Object.Behavior::PropertySwingSpeed()"
                  ]
                },
                {
                  "type": {
                    "value": "SetAngle"
                  },
                  "parameters": [
                    "Object",
                    "=",
                    "Object.Behavior::PropertyStartingAngle()"
                  ]
                }
              ]
            }
          ],
          "parameters": [
            {
              "codeOnly": false,
              "defaultValue": "",
              "description": "Object",
              "longDescription": "",
              "name": "Object",
              "optional": false,
              "supplementaryInformation": "",
              "type": "object"
            },
            {
              "codeOnly": false,
              "defaultValue": "",
              "description": "Behavior",
              "longDescription": "",
              "name": "Behavior",
              "optional": false,
              "supplementaryInformation": "SwingItem::SwingingItem",
              "type": "behavior"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "",
          "fullName": "",
          "functionType": "Action",
          "group": "",
          "name": "onCreated",
          "private": false,
          "sentence": "",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "SetAngle"
                  },
                  "parameters": [
                    "Object",
                    "=",
                    "Object.Behavior::PropertyStartingAngle()"
                  ]
                }
              ]
            }
          ],
          "parameters": [
            {
              "codeOnly": false,
              "defaultValue": "",
              "description": "Object",
              "longDescription": "",
              "name": "Object",
              "optional": false,
              "supplementaryInformation": "",
              "type": "object"
            },
            {
              "codeOnly": false,
              "defaultValue": "",
              "description": "Behavior",
              "longDescription": "",
              "name": "Behavior",
              "optional": false,
              "supplementaryInformation": "SwingItem::SwingingItem",
              "type": "behavior"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "",
          "fullName": "",
          "functionType": "Action",
          "group": "",
          "name": "doStepPreEvents",
          "private": false,
          "sentence": "",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "SwingItem::SwingingItem::PropertyIsSwinging"
                  },
                  "parameters": [
                    "Object",
                    "Behavior"
                  ]
                }
              ],
              "actions": [],
              "events": [
                {
                  "type": "BuiltinCommonInstructions::JsCode",
                  "inlineCode": "const object = objects[0];\nconst behavior = object.getBehavior(eventsFunctionContext.getBehaviorName(\"Behavior\"));\n\nif (!behavior.isSwingStarted) {\n    behavior.isSwingStarted = true;\n    object.setAngle(behavior._getStartingAngle());\n    behavior.swingArc = 0;\n}\nelse if (behavior.swingArc < behavior._getSwingArc()) {\n    object.setAngle(object.getAngle() + behavior._getSwingSpeed());\n    behavior.swingArc += Math.abs(behavior._getSwingSpeed())\n}\nelse if (behavior.swingArc > 0) {\n    object.setAngle(object.getAngle() - behavior._getSwingSpeed());\n    behavior.swingArc -= Math.abs(behavior._getSwingSpeed);\n}\nelse {\n    object.setAngle(behavior._getStartingAngle());\n    behavior.isSwingStarted = false;\n    behavior._setIsSwinging(false);\n}",
                  "parameterObjects": "Object",
                  "useStrict": true,
                  "eventsSheetExpanded": false
                }
              ]
            }
          ],
          "parameters": [
            {
              "codeOnly": false,
              "defaultValue": "",
              "description": "Object",
              "longDescription": "",
              "name": "Object",
              "optional": false,
              "supplementaryInformation": "",
              "type": "object"
            },
            {
              "codeOnly": false,
              "defaultValue": "",
              "description": "Behavior",
              "longDescription": "",
              "name": "Behavior",
              "optional": false,
              "supplementaryInformation": "SwingItem::SwingingItem",
              "type": "behavior"
            }
          ],
          "objectGroups": []
        }
      ],
      "propertyDescriptors": [
        {
          "value": "20",
          "type": "Number",
          "label": "Starting angle",
          "description": "",
          "group": "",
          "extraInformation": [],
          "hidden": false,
          "name": "StartingAngle"
        },
        {
          "value": "80",
          "type": "Number",
          "label": "Total degrees in the swing's arc",
          "description": "",
          "group": "",
          "extraInformation": [],
          "hidden": false,
          "name": "SwingArc"
        },
        {
          "value": "10",
          "type": "Number",
          "label": "Swing speed, in degrees per frame",
          "description": "",
          "group": "",
          "extraInformation": [],
          "hidden": false,
          "name": "SwingSpeed"
        },
        {
          "value": "",
          "type": "Boolean",
          "label": "",
          "description": "",
          "group": "",
          "extraInformation": [],
          "hidden": true,
          "name": "IsSwinging"
        }
      ]
    }
  ]
}