{
  "author": "",
  "category": "General",
  "description": "This works with the \"Health\" extension to display health information in a health bar which can also hover over the character. \n\nTo use it:\n1. Add the HealthBar behavior to the object.\n2. Attach the health bar to the object using the \"Attach health bar\" action.\n3. Update the health bar every frame using the \"Update health bar\" action.",
  "extensionNamespace": "",
  "fullName": "Health bar",
  "helpPath": "https://github.com/praeus/attack/blob/main/README.md",
  "iconUrl": "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAyMy4wLjMsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iSWNvbnMiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSIwIDAgMzIgMzIiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDMyIDMyOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPg0KCS5zdDB7ZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDoxMDt9DQo8L3N0eWxlPg0KPHBhdGggZD0iTTI5LDEwaC03VjNjMC0wLjYtMC40LTEtMS0xSDExYy0wLjYsMC0xLDAuNC0xLDF2N0gzYy0wLjYsMC0xLDAuNC0xLDF2MTBjMCwwLjYsMC40LDEsMSwxaDd2N2MwLDAuNiwwLjQsMSwxLDFoMTANCgljMC42LDAsMS0wLjQsMS0xdi03aDdjMC42LDAsMS0wLjQsMS0xVjExQzMwLDEwLjQsMjkuNiwxMCwyOSwxMHogTTI0LDE3aC03djdjMCwwLjYtMC40LDEtMSwxcy0xLTAuNC0xLTF2LTdIOGMtMC42LDAtMS0wLjQtMS0xDQoJczAuNC0xLDEtMWg3VjhjMC0wLjYsMC40LTEsMS0xczEsMC40LDEsMXY3aDdjMC42LDAsMSwwLjQsMSwxUzI0LjYsMTcsMjQsMTd6Ii8+DQo8L3N2Zz4NCg==",
  "name": "HealthBar",
  "previewIconUrl": "https://resources.gdevelop-app.com/assets/Icons/Glyphster Pack/Master/SVG/Healthcare/Healthcare_medical_healthcare_cross.svg",
  "shortDescription": "A health bar which can hover above a character and change in response to the character's health.",
  "version": "0.0.1",
  "tags": [
    "healthbar",
    "health"
  ],
  "authorIds": [
    "I9lf0cCEJyQSEm81kGVTjydlgv02"
  ],
  "dependencies": [],
  "eventsFunctions": [
    {
      "description": "Create a health bar and attach it to an object.",
      "fullName": "Attach health bar",
      "functionType": "Action",
      "group": "",
      "name": "AttachHealthBar",
      "private": false,
      "sentence": "Create _PARAM1_ and attach it to _PARAM2_",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [],
          "actions": [
            {
              "type": {
                "value": "Create"
              },
              "parameters": [
                "",
                "HealthBar",
                "Character.X()",
                "Character.Y()",
                ""
              ]
            },
            {
              "type": {
                "value": "LinkedObjects::LinkObjects"
              },
              "parameters": [
                "",
                "HealthBar",
                "Character"
              ]
            }
          ]
        }
      ],
      "parameters": [
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "Health bar",
          "longDescription": "",
          "name": "HealthBar",
          "optional": false,
          "supplementaryInformation": "PrimitiveDrawing::Drawer",
          "type": "objectList"
        },
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "Character to attach the health bar to",
          "longDescription": "",
          "name": "Character",
          "optional": false,
          "supplementaryInformation": "",
          "type": "objectList"
        }
      ],
      "objectGroups": []
    }
  ],
  "eventsBasedBehaviors": [
    {
      "description": "Paints a health bar which can optionally follow above a character.",
      "fullName": "Health bar",
      "name": "HealthBar",
      "objectType": "PrimitiveDrawing::Drawer",
      "eventsFunctions": [
        {
          "description": "Update the health bar display based on the health of the character.",
          "fullName": "Update health bar",
          "functionType": "Action",
          "group": "",
          "name": "Update",
          "private": false,
          "sentence": "Update _PARAM0_ with the health of _PARAM2_",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "PrimitiveDrawing::OutlineOpacity"
                  },
                  "parameters": [
                    "Object",
                    "=",
                    "100"
                  ]
                },
                {
                  "type": {
                    "value": "PrimitiveDrawing::OutlineSize"
                  },
                  "parameters": [
                    "Object",
                    "=",
                    "1"
                  ]
                },
                {
                  "type": {
                    "value": "PrimitiveDrawing::FillColor"
                  },
                  "parameters": [
                    "Object",
                    "\"255;255;255\""
                  ]
                },
                {
                  "type": {
                    "value": "PrimitiveDrawing::Rectangle"
                  },
                  "parameters": [
                    "Object",
                    "0",
                    "0",
                    "Object.Behavior::PropertyHealthBarWidth()",
                    "Object.Behavior::PropertyHealthBarHeight()"
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "LinkedObjects::PickObjectsLinkedTo"
                  },
                  "parameters": [
                    "",
                    "Character",
                    "Object",
                    ""
                  ]
                }
              ],
              "actions": [],
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "inverted": true,
                        "value": "Health::Health::IsDead"
                      },
                      "parameters": [
                        "Character",
                        "HealthBehavior",
                        ""
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "PrimitiveDrawing::OutlineOpacity"
                      },
                      "parameters": [
                        "Object",
                        "=",
                        "0"
                      ]
                    },
                    {
                      "type": {
                        "value": "PrimitiveDrawing::OutlineSize"
                      },
                      "parameters": [
                        "Object",
                        "=",
                        "1"
                      ]
                    },
                    {
                      "type": {
                        "value": "PrimitiveDrawing::FillColor"
                      },
                      "parameters": [
                        "Object",
                        "\"255;0;0\""
                      ]
                    },
                    {
                      "type": {
                        "value": "PrimitiveDrawing::Rectangle"
                      },
                      "parameters": [
                        "Object",
                        "0",
                        "0",
                        "(Character.HealthBehavior::Health() / Character.HealthBehavior::MaxHealth()) * (Object.Behavior::PropertyHealthBarWidth())",
                        "Object.Behavior::PropertyHealthBarHeight()"
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "HealthBar::HealthBar::PropertyFloatAbove"
                      },
                      "parameters": [
                        "Object",
                        "Behavior"
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "SetCenter"
                      },
                      "parameters": [
                        "Object",
                        "=",
                        "Character.CenterX()",
                        "=",
                        "Character.CenterY() - Object.Behavior::PropertyFloatHeight()"
                      ]
                    }
                  ]
                }
              ]
            }
          ],
          "parameters": [
            {
              "codeOnly": false,
              "defaultValue": "",
              "description": "Object",
              "longDescription": "",
              "name": "Object",
              "optional": false,
              "supplementaryInformation": "PrimitiveDrawing::Drawer",
              "type": "object"
            },
            {
              "codeOnly": false,
              "defaultValue": "",
              "description": "Behavior",
              "longDescription": "",
              "name": "Behavior",
              "optional": false,
              "supplementaryInformation": "HealthBar::HealthBar",
              "type": "behavior"
            },
            {
              "codeOnly": false,
              "defaultValue": "",
              "description": "Character with health to update",
              "longDescription": "",
              "name": "Character",
              "optional": false,
              "supplementaryInformation": "",
              "type": "objectList"
            },
            {
              "codeOnly": false,
              "defaultValue": "",
              "description": "Health behavior",
              "longDescription": "",
              "name": "HealthBehavior",
              "optional": false,
              "supplementaryInformation": "Health::Health",
              "type": "behavior"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "",
          "fullName": "",
          "functionType": "Action",
          "group": "",
          "name": "onCreated",
          "private": false,
          "sentence": "",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "PrimitiveDrawing::ClearBetweenFrames"
                  },
                  "parameters": [
                    "Object",
                    "yes"
                  ]
                },
                {
                  "type": {
                    "value": "PrimitiveDrawing::UseRelativeCoordinates"
                  },
                  "parameters": [
                    "Object",
                    "yes"
                  ]
                }
              ]
            }
          ],
          "parameters": [
            {
              "codeOnly": false,
              "defaultValue": "",
              "description": "Object",
              "longDescription": "",
              "name": "Object",
              "optional": false,
              "supplementaryInformation": "PrimitiveDrawing::Drawer",
              "type": "object"
            },
            {
              "codeOnly": false,
              "defaultValue": "",
              "description": "Behavior",
              "longDescription": "",
              "name": "Behavior",
              "optional": false,
              "supplementaryInformation": "HealthBar::HealthBar",
              "type": "behavior"
            }
          ],
          "objectGroups": []
        }
      ],
      "propertyDescriptors": [
        {
          "value": "",
          "type": "Boolean",
          "label": "Float the health bar above the character",
          "description": "",
          "group": "",
          "extraInformation": [],
          "hidden": false,
          "name": "FloatAbove"
        },
        {
          "value": "20",
          "type": "Number",
          "label": "Height above the center of the character to float the health bar",
          "description": "",
          "group": "",
          "extraInformation": [],
          "hidden": false,
          "name": "FloatHeight"
        },
        {
          "value": "100",
          "type": "Number",
          "label": "Health bar width",
          "description": "",
          "group": "",
          "extraInformation": [],
          "hidden": false,
          "name": "HealthBarWidth"
        },
        {
          "value": "25",
          "type": "Number",
          "label": "Health bar height",
          "description": "",
          "group": "",
          "extraInformation": [],
          "hidden": false,
          "name": "HealthBarHeight"
        }
      ]
    }
  ]
}